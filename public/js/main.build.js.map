{"version":3,"sources":["main.js"],"names":[],"mappings":";;AAEA,IAAM,aAAa,SAAS,gBAAT,CAA0B,WAA1B,CAAnB;AACA,IAAM,aAAa,SAAS,gBAAT,CAA0B,kBAA1B,CAAnB;AACA,IAAM,cAAc,SAAS,aAAT,CAAuB,gBAAvB,CAApB;AACA,IAAM,cAAc,GAApB;;AAEA,IAAM,iBAAiB,SAAjB,cAAiB,CAAC,CAAD,EAAO;;AAE5B,IAAE,OAAF,CAAU,UAAV,EAAsB,qBAAa;AACjC,QAAM,mBAAoB,OAAO,OAAP,GAAiB,OAAO,WAAzB,GAAwC,UAAU,YAA3E;;AAEA,QAAM,YAAY,mBAAmB,UAAU,SAA/C;;AAEA,QAAI,SAAJ,EAAe;AACb,gBAAU,SAAV,CAAoB,MAApB,CAA2B,UAA3B;AACD,KAFD,MAEO;AACL,gBAAU,SAAV,CAAoB,GAApB,CAAwB,UAAxB;AACD;AACF,GAVD;AAWD,CAbD;;AAeA,IAAM,gBAAgB,SAAhB,aAAgB,CAAC,CAAD,EAAO;AAC3B,MAAM,OAAO,SAAS,IAAtB;AAAA,MACI,OAAO,SAAS,eADpB;;AAGA,MAAM,aAAa,KAAK,GAAL,CAAU,KAAK,YAAf,EAA6B,KAAK,YAAlC,EACjB,KAAK,YADY,EACE,KAAK,YADP,EACqB,KAAK,YAD1B,CAAnB;;AAGA;AACA,cAAY,KAAZ,CAAkB,KAAlB,GAA+B,OAAO,OAAP,IAAkB,aAAa,OAAO,WAAtC,CAAD,GAAuD,GAArF;AACD,CATD;;AAWA,IAAM,UAAU,SAAV,OAAU,CAAC,CAAD,EAAO;;AAErB,MAAM,YAAY,SAAS,aAAT,CAAuB,YAAvB,CAAlB;;AAEA,MAAG,aAAa,IAAhB,EAAsB;AACpB,QAAM,aAAc,UAAU,SAAV,GAAuB,UAAU,YAAV,GAAyB,CAApE;;AAEA,QAAI,OAAO,OAAP,GAAiB,UAArB,EAAiC,SAAS,aAAT,CAAuB,UAAvB,EAAmC,SAAnC,CAA6C,GAA7C,CAAiD,KAAjD;AACjC,QAAI,OAAO,OAAP,IAAkB,UAAtB,EAAkC,SAAS,aAAT,CAAuB,UAAvB,EAAmC,SAAnC,CAA6C,MAA7C,CAAoD,KAApD;AACnC;AACF,CAVD;;AAYA,IAAM,iBAAiB,SAAjB,cAAiB,CAAC,CAAD,EAAO;AAC5B,MAAI,UAAU,EAAd;;AAEA,IAAE,OAAF,CAAU,UAAV,EAAsB,gBAAQ;AAC5B,QAAI,KAAK,SAAL,GAAmB,OAAO,OAAP,GAAmB,IAAI,OAAO,WAAX,GAAuB,CAAjE,EAAuE;AACrE,gBAAU,KAAK,OAAL,CAAa,SAAvB;AAED;AACF,GALD;;AAOA,UAAQ,YAAR,CAAqB,IAArB,EAA2B,IAA3B,EAAiC,OAAjC;AACD,CAXD;;AAaA,IAAM,gBAAgB,SAAhB,aAAgB,CAAC,CAAD,EAAO;AAC3B,IAAE,OAAF,CAAU,UAAV,EAAsB;AAAA,WAAa,UAAU,SAAV,CAAoB,GAApB,CAAwB,UAAxB,CAAb;AAAA,GAAtB;AACD,CAFD;;AAIA,IAAM,cAAc,SAAd,WAAc,GAAM;AACxB,MAAI,WAAW,MAAX,GAAoB,CAAxB,EAA2B;AACzB;AACD;AACD,MAAI,WAAW,MAAX,GAAoB,CAAxB,EAA2B;AACzB;AACD;AACD,MAAI,eAAe,IAAnB,EAAyB;AACvB;AACD;AACD;AACD,CAXD;;AAcA,OAAO,gBAAP,CAAwB,MAAxB,EAAgC,aAAhC;AACA,OAAO,gBAAP,CAAwB,QAAxB,EAAkC,EAAE,QAAF,CAAW,WAAX,EAAwB,WAAxB,CAAlC","file":"main.build.js","sourcesContent":["\n\nconst animations = document.querySelectorAll('.animated');\nconst placemarks = document.querySelectorAll('[data-placemark]');\nconst progressBar = document.querySelector('.progress__bar');\nconst scrollSpeed = 160;\n\nconst checkAnimation = (e) => {\n  \n  _.forEach(animations, animation => {\n    const animationTrigger = (window.scrollY + window.innerHeight) - animation.offsetHeight;\n  \n    const isShowing = animationTrigger > animation.offsetTop;\n    \n    if( isShowing) {\n      animation.classList.remove('inactive');\n    } else {\n      animation.classList.add('inactive');\n    }\n  })\n};\n\nconst checkProgress = (e) => {\n  const body = document.body,\n      html = document.documentElement;\n  \n  const pageHeight = Math.max( body.scrollHeight, body.offsetHeight,\n    html.clientHeight, html.scrollHeight, html.offsetHeight );\n  \n  //console.log(pageHeight, window.scrollY + window.innerHeight, (((window.scrollY+ window.innerHeight) / pageHeight) * 100));\n  progressBar.style.width = `${((window.scrollY / (pageHeight - window.innerHeight)) * 100)}vw`;\n};\n\nconst checkBG = (e) => {\n  \n  const bg2Target = document.querySelector('.offerings');\n  \n  if(bg2Target != null) {\n    const bg2Trigger = (bg2Target.offsetTop + (bg2Target.offsetHeight / 6));\n  \n    if (window.scrollY > bg2Trigger) document.querySelector('.wrapper').classList.add('bg2');\n    if (window.scrollY <= bg2Trigger) document.querySelector('.wrapper').classList.remove('bg2');\n  }\n};\n\nconst checkPlacemark = (e) => {\n  let current = '';\n  \n  _.forEach(placemarks, mark => {\n    if( mark.offsetTop < ( window.scrollY + ( 4 * window.innerHeight/5 ))) {\n      current = mark.dataset.placemark;\n      \n    }\n  });\n  \n  history.replaceState(null, null, current);\n};\n\nconst initAnimation = (e) => {\n  _.forEach(animations, animation => animation.classList.add('inactive'));\n};\n\nconst checkScroll = () => {\n  if (animations.length > 0) {\n    checkAnimation();\n  }\n  if (placemarks.length > 0) {\n    checkPlacemark();\n  }\n  if (progressBar != null) {\n    checkProgress();\n  }\n  checkBG();\n};\n\n\nwindow.addEventListener('load', initAnimation);\nwindow.addEventListener('scroll', _.throttle(checkScroll, scrollSpeed));"]}